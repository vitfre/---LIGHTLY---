/*
 * song.h
 *
 * Created: 12.10.2014 11:17:19
 *  Author: Администратор
 */ 


#ifndef SONG_H_
#define SONG_H_
//---------------------------------------------------------------------------------------
#define F_CPU 4000000UL // or whatever may be your frequency
//---------------------------------------------------------------------------------------
#include <avr/interrupt.h>
#include <util/delay.h>
#include <avr/io.h>
//---------------------------------------------------------------------------------------
#define BUZZ_LD_INIT		(DDRD|=(1<<5));(PORTD&=~(1<<5));	(DDRA|=(1<<1));(PORTA|=(1<<1));	(DDRA|=(1<<0));(PORTA&=~(1<<0));	(DDRA|=(1<<2));(PORTA&=~(1<<2));	(DDRA|=(1<<3));(PORTA&=~(1<<3));	(DDRC|=(1<<5));(PORTC&=~(1<<5));
#define BUZZ_ON				(PORTD|=(1<<5));
#define BUZZ_OFF			(PORTD&=~(1<<5));
//---------------------------------------------------------------------------------------
#define LED_OK				0
#define LED_busy			2

/**************************************************************************
*   Function name : Beep_tone
*   Returns :       нет
*   Parameters :    довжина піка
*   Purpose :       пикаем
****************************************************************************/
void beep_tone(unsigned int i)
{
	//---------------------------------------------------------------------------------------
	BUZZ_ON
	for (;1<i;i--)
	{
		_delay_ms(1);
	};
	BUZZ_OFF
	//---------------------------------------------------------------------------------------
};

/**************************************************************************
*   Function name : all_ok
*   Returns :       void
*   Parameters :    код помилок
*   Purpose :       Запалює світлодіоди
****************************************************************************/
void all_ok(unsigned char err)
{
	//---------------------------------------------------------------------------------------
	switch(err)
	{
		case 0x00:
		{
			//---------------------------------------------------------------------------------------
			ClrBit(PORTA,LED_OK);
			ClrBit(PORTA,LED_busy);
			//---------------------------------------------------------------------------------------
		};break;

		case 0x01:
		{
			//---------------------------------------------------------------------------------------
			ClrBit(PORTA,LED_OK);
			SetBit(PORTA,LED_busy);
			//---------------------------------------------------------------------------------------
		};break;
		
		case 0x02:
		{
			//---------------------------------------------------------------------------------------
			SetBit(PORTA,LED_OK);
			ClrBit(PORTA,LED_busy);
			//---------------------------------------------------------------------------------------
		};break;
		
		case 0x03:
		{
			//---------------------------------------------------------------------------------------
			SetBit(PORTA,LED_OK);
			SetBit(PORTA,LED_busy);
			//---------------------------------------------------------------------------------------
		};break;
		
		default:
		{
			//---------------------------------------------------------------------------------------
			//---------------------------------------------------------------------------------------
		};
	};
	//---------------------------------------------------------------------------------------
};


#endif /* SONG_H_ */